{"ast":null,"code":"import _extends from \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/node_modules/@babel/runtime/helpers/esm/extends\";\nimport { apiCall } from '../../services/api';\nimport { SET_CURRENT_USER } from '../actionTypes';\nimport { removeError, addError } from './errors';\nexport function setCurrentUser(user) {\n  return {\n    type: SET_CURRENT_USER,\n    user: user\n  };\n}\n;\nexport function authUser(type, userData) {\n  return function (dispatch) {\n    return new Promise(function (resolve, reject) {\n      return apiCall('post', \"/api/auth/\".concat(type), userData).then(function (_ref) {\n        var user = _extends({}, _ref);\n\n        dispatch(setCurrentUser(user));\n        dispatch(removeError());\n        resolve();\n      }).catch(function (err) {\n        console.log(err);\n        dispatch(addError(err.message));\n        reject();\n      });\n    });\n  };\n}\n;\nexport function logout() {\n  return function (dispatch) {\n    dispatch(setCurrentUser({}));\n  };\n}","map":{"version":3,"sources":["/Users/jaydeepkudumula/Documents/GIT/react-forum/client/src/store/actions/auth.js"],"names":["apiCall","SET_CURRENT_USER","removeError","addError","setCurrentUser","user","type","authUser","userData","dispatch","Promise","resolve","reject","then","catch","err","console","log","message","logout"],"mappings":";AAAA,SAAQA,OAAR,QAAsB,oBAAtB;AACA,SAAQC,gBAAR,QAA+B,gBAA/B;AACA,SAAQC,WAAR,EAAqBC,QAArB,QAAoC,UAApC;AAEA,OAAO,SAASC,cAAT,CAAwBC,IAAxB,EAA8B;AACnC,SAAO;AACLC,IAAAA,IAAI,EAAEL,gBADD;AAELI,IAAAA,IAAI,EAAJA;AAFK,GAAP;AAID;AAAA;AAED,OAAO,SAASE,QAAT,CAAkBD,IAAlB,EAAwBE,QAAxB,EAAkC;AACvC,SAAO,UAAAC,QAAQ,EAAI;AACjB,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACtC,aAAOZ,OAAO,CAAC,MAAD,sBAAsBM,IAAtB,GAA8BE,QAA9B,CAAP,CAA+CK,IAA/C,CAAoD,gBAAe;AAAA,YAAVR,IAAU;;AACxEI,QAAAA,QAAQ,CAACL,cAAc,CAACC,IAAD,CAAf,CAAR;AACAI,QAAAA,QAAQ,CAACP,WAAW,EAAZ,CAAR;AACAS,QAAAA,OAAO;AACR,OAJM,EAIJG,KAJI,CAIE,UAAAC,GAAG,EAAI;AACdC,QAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ;AACAN,QAAAA,QAAQ,CAACN,QAAQ,CAACY,GAAG,CAACG,OAAL,CAAT,CAAR;AACAN,QAAAA,MAAM;AACP,OARM,CAAP;AASD,KAVM,CAAP;AAWD,GAZD;AAaD;AAAA;AAED,OAAO,SAASO,MAAT,GAAkB;AACvB,SAAO,UAAAV,QAAQ,EAAI;AACjBA,IAAAA,QAAQ,CAACL,cAAc,CAAC,EAAD,CAAf,CAAR;AACD,GAFD;AAGD","sourcesContent":["import {apiCall} from '../../services/api';\nimport {SET_CURRENT_USER} from '../actionTypes';\nimport {removeError, addError} from './errors';\n\nexport function setCurrentUser(user) {\n  return {\n    type: SET_CURRENT_USER,\n    user\n  };\n};\n\nexport function authUser(type, userData) {\n  return dispatch => {\n    return new Promise((resolve, reject) => {\n      return apiCall('post', `/api/auth/${type}`, userData).then(({...user}) => {\n        dispatch(setCurrentUser(user));\n        dispatch(removeError());\n        resolve();\n      }).catch(err => {\n        console.log(err);\n        dispatch(addError(err.message));\n        reject();\n      }); \n    });\n  }\n};\n\nexport function logout() {\n  return dispatch => {\n    dispatch(setCurrentUser({}));\n  }\n}"]},"metadata":{},"sourceType":"module"}