{"ast":null,"code":"import _defineProperty from \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/jaydeepkudumula/Documents/GIT/react-forum/client/src/components/CommentBox.js\";\nimport React, { Component } from 'react';\nimport { connect } from 'react-redux';\nimport { newComment, getPost } from '../store/actions/posts';\n\nvar CommentBox =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(CommentBox, _Component);\n\n  function CommentBox(props) {\n    var _this;\n\n    _classCallCheck(this, CommentBox);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(CommentBox).call(this, props));\n\n    _this.handleChange = function (e) {\n      _this.setState(_defineProperty({}, e.target.name, e.target.value));\n    };\n\n    _this.handleSubmit = function (e) {\n      e.preventDefault();\n\n      _this.setState({\n        comment: ''\n      });\n\n      _this.props.newComment(_this.state.comment, _this.props.post._id, _this.props.currentUser.user.id).then(function () {\n        return _this.props.getPost(_this.props.post._id);\n      });\n    };\n\n    _this.state = {\n      comment: ''\n    };\n    return _this;\n  }\n\n  _createClass(CommentBox, [{\n    key: \"render\",\n    value: function render() {\n      var comment = this.state.comment;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 32\n        },\n        __self: this\n      }, React.createElement(\"h3\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Leave a comment\"), React.createElement(\"form\", {\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 34\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"form-group\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        type: \"text\",\n        className: \"form-control\",\n        value: comment,\n        id: \"comment\",\n        name: \"comment\",\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 36\n        },\n        __self: this\n      })), React.createElement(\"button\", {\n        className: \"btn btn-outline-dark\",\n        type: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 39\n        },\n        __self: this\n      }, \"Submit comment\")));\n    }\n  }]);\n\n  return CommentBox;\n}(Component);\n\n;\n\nfunction mapStateToProps(state) {\n  return {\n    currentUser: state.currentUser,\n    post: state.post\n  };\n}\n\nexport default connect(mapStateToProps, {\n  newComment: newComment,\n  getPost: getPost\n})(CommentBox);","map":{"version":3,"sources":["/Users/jaydeepkudumula/Documents/GIT/react-forum/client/src/components/CommentBox.js"],"names":["React","Component","connect","newComment","getPost","CommentBox","props","handleChange","e","setState","target","name","value","handleSubmit","preventDefault","comment","state","post","_id","currentUser","user","id","then","mapStateToProps"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,UAAR,EAAoBC,OAApB,QAAkC,wBAAlC;;IAEMC,U;;;;;AACJ,sBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,oFAAMA,KAAN;;AADiB,UAOnBC,YAPmB,GAOJ,UAAAC,CAAC,EAAI;AAClB,YAAKC,QAAL,qBACGD,CAAC,CAACE,MAAF,CAASC,IADZ,EACmBH,CAAC,CAACE,MAAF,CAASE,KAD5B;AAGD,KAXkB;;AAAA,UAanBC,YAbmB,GAaJ,UAAAL,CAAC,EAAI;AAClBA,MAAAA,CAAC,CAACM,cAAF;;AACA,YAAKL,QAAL,CAAc;AACZM,QAAAA,OAAO,EAAE;AADG,OAAd;;AAGA,YAAKT,KAAL,CAAWH,UAAX,CAAsB,MAAKa,KAAL,CAAWD,OAAjC,EAA0C,MAAKT,KAAL,CAAWW,IAAX,CAAgBC,GAA1D,EAA+D,MAAKZ,KAAL,CAAWa,WAAX,CAAuBC,IAAvB,CAA4BC,EAA3F,EACGC,IADH,CACQ;AAAA,eAAM,MAAKhB,KAAL,CAAWF,OAAX,CAAmB,MAAKE,KAAL,CAAWW,IAAX,CAAgBC,GAAnC,CAAN;AAAA,OADR;AAED,KApBkB;;AAEjB,UAAKF,KAAL,GAAa;AACXD,MAAAA,OAAO,EAAE;AADE,KAAb;AAFiB;AAKlB;;;;6BAiBQ;AAAA,UACAA,OADA,GACW,KAAKC,KADhB,CACAD,OADA;AAGP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAEE;AAAM,QAAA,QAAQ,EAAE,KAAKF,YAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAK,QAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAO,QAAA,IAAI,EAAC,MAAZ;AAAmB,QAAA,SAAS,EAAC,cAA7B;AAA4C,QAAA,KAAK,EAAEE,OAAnD;AACA,QAAA,EAAE,EAAC,SADH;AACa,QAAA,IAAI,EAAC,SADlB;AAC4B,QAAA,QAAQ,EAAE,KAAKR,YAD3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAKE;AAAQ,QAAA,SAAS,EAAC,sBAAlB;AAAyC,QAAA,IAAI,EAAC,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BALF,CAFF,CADF;AAcD;;;;EAxCsBN,S;;AAyCxB;;AAED,SAASsB,eAAT,CAAyBP,KAAzB,EAAgC;AAC9B,SAAO;AACLG,IAAAA,WAAW,EAAEH,KAAK,CAACG,WADd;AAELF,IAAAA,IAAI,EAAED,KAAK,CAACC;AAFP,GAAP;AAID;;AAED,eAAef,OAAO,CAACqB,eAAD,EAAkB;AAACpB,EAAAA,UAAU,EAAVA,UAAD;AAAaC,EAAAA,OAAO,EAAPA;AAAb,CAAlB,CAAP,CAAgDC,UAAhD,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport {connect} from 'react-redux';\nimport {newComment, getPost} from '../store/actions/posts';\n\nclass CommentBox extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      comment: ''\n    }\n  }\n\n  handleChange = e => {\n    this.setState({\n      [e.target.name]: e.target.value\n    });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    this.setState({\n      comment: ''\n    });\n    this.props.newComment(this.state.comment, this.props.post._id, this.props.currentUser.user.id)\n      .then(() => this.props.getPost(this.props.post._id));\n  };\n  \n  render() {\n    const {comment} = this.state;\n\n    return (\n      <div>\n        <h3>Leave a comment</h3>\n        <form onSubmit={this.handleSubmit}>\n          <div className=\"form-group\">\n            <input type=\"text\" className=\"form-control\" value={comment}\n            id=\"comment\" name=\"comment\" onChange={this.handleChange} />\n          </div>\n          <button className=\"btn btn-outline-dark\" type=\"submit\">\n            Submit comment\n          </button>\n        </form> \n      </div>\n    );\n  }\n};\n\nfunction mapStateToProps(state) {\n  return {\n    currentUser: state.currentUser,\n    post: state.post\n  }\n}\n\nexport default connect(mapStateToProps, {newComment, getPost})(CommentBox);"]},"metadata":{},"sourceType":"module"}